(window["webpackJsonpfood-delivery"]=window["webpackJsonpfood-delivery"]||[]).push([[0],{103:function(e,t,a){},113:function(e,t,a){e.exports=a(241)},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},140:function(e,t){},142:function(e,t){},177:function(e,t){},178:function(e,t){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},232:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(104),l=a.n(c),s=a(2),o=a(26),i=a(4),u=a(5),m=a(7),d=a(6),f=a(8),p=a(105),v=a.n(p),h=a(31),E=a.n(h),b=function(){var e=[{type:"nav-item",icon:"home",text:"Dashboard",link:"/user/dashboard",restricted:!0},{type:"nav-item",icon:"home",text:"Register",link:"/register"},{type:"nav-item",icon:"user",text:"Profile",link:"/user/profile",restricted:!0},{type:"nav-item",icon:"car",text:"Orders",link:"/user/orders",restricted:!0},{type:"nav-item",icon:"car",text:"Customers",link:"/user/customers",restricted:!0,role:"admin"},{type:"nav-item",icon:"car",text:"Riders",link:"/user/riders",restricted:!0,role:"admin"},{type:"nav-item",icon:"home",text:"Logout",link:"/logout",restricted:!0}];return n.a.createElement("div",null,n.a.createElement("ul",{className:"nav-items"},e.map((function(e,t){return function(e,t){var a=sessionStorage.getItem("userId");return e.restricted?sessionStorage.getItem("userId")?e.role?sessionStorage.getItem("role")===e.role?n.a.createElement("li",{className:e.type}," ",n.a.createElement(s.b,{to:e.link},n.a.createElement(E.a,{name:e.icon})," ",e.text," ")," "):null:a?null:n.a.createElement("li",{className:e.type}," ",n.a.createElement(s.b,{to:e.link},n.a.createElement(E.a,{name:e.icon})," ",e.text," ")," "):void 0:n.a.createElement("li",{className:e.type}," ",n.a.createElement(s.b,{to:e.link},n.a.createElement(E.a,{name:e.icon})," ",e.text," ")," ")}(e)}))))},g=(a(123),function(e){return n.a.createElement(v.a,{showNav:e.showNav,navStyle:{background:"#2980b9"},onHideNav:e.onHideNav},n.a.createElement(b,null))}),y=(a(124),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={showNav:!1},a.renderCartSummary=function(){var e=JSON.parse(sessionStorage.getItem("cart"));if(e)return n.a.createElement(s.b,{to:"/user/viewCart"}," Cart (","".concat(e.length),") ")},a.renderUserLinks=function(){switch(sessionStorage.getItem("role")){case"rest":return n.a.createElement("ul",{className:"links-wrapper"},n.a.createElement("li",null," ",n.a.createElement(s.b,{to:"/restaurants"}," Orders ")));case"customer":return n.a.createElement("ul",{className:"links-wrapper"},n.a.createElement("li",null," ",n.a.createElement(s.b,{to:"/user/viewCart"}," Cart ")));case"admin":return n.a.createElement("ul",{className:"links-wrapper"},n.a.createElement("li",null," ",n.a.createElement(s.b,{to:"/customers"}," Customers ")));default:return null}},a.renderLinks=function(){return sessionStorage.getItem("loginId")?n.a.createElement("nav",null,n.a.createElement(s.b,{to:"/"}," Home"),n.a.createElement(s.b,{to:"/dashboard"}," Dashboard"),n.a.createElement(s.b,{to:"/restaurants"}," Restaurants"),a.renderUserLinks(),n.a.createElement(s.b,{to:"/logout"}," Logout")):n.a.createElement("nav",null,n.a.createElement(s.b,{to:"/"}," Home"),n.a.createElement(s.b,{to:"/restaurants"}," Restaurants"),n.a.createElement(s.b,{to:"/login"}," Login"),n.a.createElement(s.b,{to:"/register"}," Register"))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("header",{className:"main-header"},n.a.createElement(g,{showNav:this.state.showNav,onHideNav:function(){return e.setState({showNav:!1})}}),n.a.createElement("div",{className:"container"},n.a.createElement(s.b,{to:"/"},n.a.createElement("h1",{className:"logo"},"DziDzi")," "),n.a.createElement(E.a,{name:"bars",className:"menu",onClick:function(){return e.setState({showNav:!0})}}),n.a.createElement("nav",null,this.renderLinks()))))}}]),t}(r.Component)),O=(a(125),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={search:{required:!0,value:""}},a.handleChange=function(e){var t=a.state.search;t.value=e.target.value,a.setState({search:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.search.value;""!==t?a.props.history.push("/search?q=".concat(t)):a.setState({error:"Search Cannot be empty"})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"landing"},n.a.createElement(y,null),n.a.createElement("div",{className:"form-wrapper"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("h1",{className:"form-title"}," Are you Hungry?"),n.a.createElement("input",{type:"text",name:"search",placeholder:"Enter your location",onChange:this.handleChange,value:this.state.search.value}))))}}]),t}(r.Component)),N=Object(o.f)(O),j=function(){return n.a.createElement("div",null," ",n.a.createElement(N,null)," ")},C=(a(126),function(e){return n.a.createElement("div",null," ",e.children," ")}),S=a(23),D=a(63);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}D.initializeApp({apiKey:"AIzaSyAn1Jvu9qrlqayrHLoCYr2OvpblCkFAKYY",authDomain:"food-delivery-b222d.firebaseapp.com",databaseURL:"https://food-delivery-b222d.firebaseio.com",projectId:"food-delivery-b222d",storageBucket:"food-delivery-b222d.appspot.com",messagingSenderId:"216510786586",appId:"1:216510786586:web:b3ea1f217578b3dccfb5a3"});var I=function(e){var t=[];return e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.key},e.val()))})),t},k=a(109),x=a.n(k),P=(a(110),function(){return x()(new Date).format("MMMM Do YYYY, h:mm:ss a")}),A="https://upload.wikimedia.org/wikipedia/commons/1/1e/Default-avatar.jpg",q="https://doorservers.com/media/images/default_restaurant.png",M="http://myeatable.com/assets/images/default-food-image-large.png",U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={rests:null,search:null,error:null},a.renderRestUnits=function(){var e=a.state.rests;return e?e.map((function(e){return n.a.createElement(s.b,{className:"rest-unit",to:"restaurant/".concat(e.id)},n.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(q,")")}}," "),n.a.createElement("div",{className:"content"},n.a.createElement("p",{className:"name"},"Name: ",e.name),n.a.createElement("p",{className:"location"},"Location: ",e.location),n.a.createElement("p",{className:"contact"},"Contact: ",e.contact)))})):null},a.renderError=function(){var e=a.state.error;return e?n.a.createElement("p",null," ",e):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.search,a=new URLSearchParams(t).get("q");console.log(a),D.database().ref("restaurants").orderByChild("location").equalTo(a).once("value").then((function(t){var a=I(t);e.setState({rests:a})}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"main-title"},"Search for restaurants around: ",this.state.search," "),n.a.createElement("div",{className:"rest-wrapper"},this.renderRestUnits(),this.renderError())))}}]),t}(r.Component),L=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={isLoading:!1,errors:[],formData:{email:{value:"",required:!0},password:{value:"",required:!0}}},a.handleChange=function(e){var t=a.state.formData,r=t[e.id];r.value=e.event.target.value,t[e.id]=r,a.setState({formData:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,r={},n=[];for(var c in t)r[c]=t[c].value,t[c].required&&""===t[c].value&&n.push("".concat(c," is required"));if(!(n.length>0))return a.setState({isLoading:!0}),void D.database().ref("login").orderByChild("email").equalTo(r.email).once("value").then((function(e){var t=I(e)[0];if(t&&t.password===r.password)sessionStorage.setItem("loginId",t.id),sessionStorage.setItem("role",t.role),a.props.history.push("/dashboard");else{var n=a.state.errors;n.push("Invalid email/password combination"),a.setState({isLoading:!1,errors:n})}}));a.setState({errors:n})},a.renderButton=function(){return a.state.isLoading?n.a.createElement("div",{className:"loading"}," Loading "):n.a.createElement("button",{className:"btn btn-main"}," Login")},a.renderErrors=function(){var e=a.state.errors;return e?e.map((function(e,t){return n.a.createElement("p",{key:t,className:"error"}," ",e)})):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"form-wrapper form-center"},n.a.createElement("h1",{className:"main-title text-center"}," Login"),n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Email",onChange:function(t){return e.handleChange({event:t,id:"email",blur:!1})},value:this.state.formData.email.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Password",onChange:function(t){return e.handleChange({event:t,id:"password",blur:!1})},value:this.state.formData.password.value})),this.renderErrors(),this.renderButton()))))}}]),t}(r.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={isLoading:!1,errors:[],formData:{name:{value:"",required:!0},email:{value:"",required:!0},password:{value:"",required:!0},contact:{value:"",required:!0},location:{value:"",required:!1}}},a.handleChange=function(e){var t=a.state.formData,r=t[e.id];r.value=e.event.target.value,t[e.id]=r,a.setState({formData:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,r={},n=[];for(var c in t)r[c]=t[c].value,""===t[c].value&&n.push("".concat(c," is required"));if(n.length>0)a.setState({errors:n});else{a.setState({errors:[""]}),console.log("process registration"),r.role="customer",r.createdOn=P(),a.setState({isLoading:!0}),console.log(r);var l={email:r.email,password:r.password,role:r.role,createdOn:r.createdOn};console.log(l),D.database().ref("login").push(l).then((function(){var e=r.email;D.database().ref("login").orderByChild("email").equalTo(e).once("value").then((function(e){var t=I(e)[0].id;r.loginId=t,D.database().ref("users").push(r).then((function(){sessionStorage.setItem("success","Accont Successfully created"),a.props.history.push("/login")}))}))}))}},a.renderErrors=function(){var e=a.state.errors;return e?e.map((function(e,t){return n.a.createElement("p",{key:t,className:"error"}," ",e)})):null},a.renderButton=function(){return a.state.isLoading?n.a.createElement("div",{className:"loading"}," Loading.... "):n.a.createElement("button",{className:"btn btn-main",type:"submit"}," ","Create Account")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"register"},n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"main-title text-center"}," Create An Account"),n.a.createElement("div",{className:"form-wrapper form-center"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Name",onChange:function(t){return e.handleChange({event:t,id:"name",blur:!1})},value:this.state.formData.name.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Email",onChange:function(t){return e.handleChange({event:t,id:"email",blur:!1})},value:this.state.formData.email.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Password",onChange:function(t){return e.handleChange({event:t,id:"password",blur:!1})},value:this.state.formData.password.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Contact",onChange:function(t){return e.handleChange({event:t,id:"contact",blur:!1})},value:this.state.formData.contact.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("select",{onChange:function(t){return e.handleChange({event:t,id:"location",blur:!1})}},n.a.createElement("option",null,"Select Location"),n.a.createElement("option",{value:"dansoman"},"Dansoman"),n.a.createElement("option",{value:"ridge"},"Ridge"),n.a.createElement("option",{value:"cantonment"},"Cantonment"))),this.renderErrors(),this.renderButton()))))}}]),t}(r.Component),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={role:null,restId:null,restData:null},a.renderDash=function(){return a.state.restData?n.a.createElement("div",{className:"dash-wrapper"},n.a.createElement(s.b,{to:"/restaurant/addMenuItem/".concat(a.state.restId),className:"dash-unit"},n.a.createElement("i",{class:"fa fa-plus","aria-hidden":"true"}),n.a.createElement("p",null," Add Menu ")),n.a.createElement(s.b,{to:"/restaurant/".concat(a.state.restId),className:"dash-unit"},n.a.createElement("i",{class:"fas fa-menorah"}),n.a.createElement("p",null," Menu ")),n.a.createElement(s.b,{to:"/rest/orders/".concat(a.state.restId),className:"dash-unit "},n.a.createElement("i",{class:"fas fa-concierge-bell"}),n.a.createElement("p",null,"Orders"))):null},a.renderName=function(){var e=a.state.restData;return e?n.a.createElement("h1",{className:"main-title text-center"}," Welcome ",e.name):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("role");if("rest"===t||"admin"===t){this.setState({role:t});var a=sessionStorage.getItem("loginId");D.database().ref("login/".concat(a)).once("value").then((function(t){var a=t.val().email;D.database().ref("restaurants").orderByChild("email").equalTo(a).once("value").then((function(t){var a=I(t)[0],r=a.id;r&&e.setState({restId:r,restData:a})}))}))}else this.props.history.push("/login")}},{key:"render",value:function(){return console.log(this.state),n.a.createElement("div",null,this.renderName(),this.renderDash())}}]),t}(r.Component),T=function(){return n.a.createElement("div",{className:"dashboard"},n.a.createElement("h1",{className:"main-title text-center"}," ","Welcome ",n.a.createElement("span",null,"Admin")," "),n.a.createElement("div",{className:"dash-wrapper"},n.a.createElement(s.b,{to:"/customers",className:"dash-unit "},n.a.createElement("i",{class:"fas fa-users"}),n.a.createElement("p",null," Customers ")),n.a.createElement(s.b,{to:"/restaurants",className:"dash-unit "},n.a.createElement("i",{class:"fas fa-utensils"}),n.a.createElement("p",null,"Restaurant")),n.a.createElement(s.b,{to:"/admin/orders",className:"dash-unit "},n.a.createElement("i",{class:"fas fa-concierge-bell"}),n.a.createElement("p",null,"Orders"))))},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={custData:null},a.renderDash=function(){var e=a.state.custData;return e?n.a.createElement("div",{className:"dashboard"},n.a.createElement("h1",{className:"main-title text-center"}," ","Welcome ",n.a.createElement("span",null,e.name)," "),n.a.createElement("div",{className:"dash-wrapper"},n.a.createElement(s.b,{to:"/user/".concat(e.id),className:"dash-unit "},n.a.createElement("i",{class:"fas fa-user"}),n.a.createElement("p",null," Profile ")),n.a.createElement(s.b,{to:"/user/orders",className:"dash-unit "},n.a.createElement("i",{class:"fas fa-concierge-bell"}),n.a.createElement("p",null,"Orders")))):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("loginId");sessionStorage.getItem("role");D.database().ref("users").orderByChild("loginId").equalTo(t).once("value").then((function(t){var a=I(t)[0];a&&e.setState({custData:a})}))}},{key:"render",value:function(){return n.a.createElement("div",null," ",this.renderDash()," ")}}]),t}(r.Component),F=(a(222),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={role:null},a.renderDash=function(){var e=a.state.role;if(e)switch(e){case"customer":return n.a.createElement(H,null);case"admin":return n.a.createElement(T,a.props);case"rest":return n.a.createElement(B,a.props);default:return null}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("role");this.setState({role:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",null,this.renderDash()))}}]),t}(r.Component)),J=function(e){return n.a.createElement("div",null," ",(sessionStorage.clear(),void e.history.push("/login")))},W=a(9),Y=a.n(W),z=(a(223),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={rests:null},a.renderRests=function(){var e=a.state.rests;if(!Y.a.isEmpty(e))return e.map((function(e){return n.a.createElement(s.b,{to:"/restaurant/".concat(e.id),className:"rest-unit"},n.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(A,")")}}),n.a.createElement("div",{className:"content"},n.a.createElement("p",null," Name: ",e.name),n.a.createElement("p",null," Location: ",e.location),n.a.createElement("p",null," Contact: ",e.contact)))}))},a.renderCta=function(){if("admin"===sessionStorage.getItem("role"))return n.a.createElement(s.b,{to:"restaurant/add-restaurant",className:"cta"},"Add Restaurant")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;D.database().ref("restaurants").once("value").then((function(t){var a=I(t);a&&e.setState({rests:a})}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("h1",{className:"main-title"},"List of Restaurants"),this.renderCta()),n.a.createElement("div",{className:"rest-wrapper"},this.renderRests())))}}]),t}(r.Component)),G=a(112),K=(a(224),function(e){var t=e.menuData,a=e.addToCart,r=e.handleDelete,c=(sessionStorage.getItem("role"),function(e,t){return t.map((function(t){return t.category===e?n.a.createElement("div",{className:"menu-item"},n.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(t.cover.fileUrl,")")}}),n.a.createElement("div",{className:"desc"},n.a.createElement("p",{className:"item-name"}," ",t.name," "),n.a.createElement("p",{className:"item-price"},"Price: GHC",t.price," "),function(e){var t=sessionStorage.getItem("role");switch(console.log(e),t){case"customer":return n.a.createElement("div",{className:"btn-wrapper"},n.a.createElement("button",{className:"btn btn-main",onClick:function(){return a(e)}}," Add To Cart  "));case"admin":return n.a.createElement("div",{className:"btn-wrapper"},n.a.createElement(s.b,{to:"/restaurant/menu/edit/".concat(e.id),className:"btn btn-main text-center"}," Edit "),n.a.createElement("button",{className:"btn btn-danger"},"Delete"));case"rest":return n.a.createElement("div",{className:"btn-wrapper"},n.a.createElement(s.b,{to:"/restaurant/menu/edit/".concat(e.id),className:"btn btn-main text-center"}," Edit "),n.a.createElement("button",{className:"btn btn-danger",onClick:function(){return r(e)}},"Delete"));default:return null}}(t))):null}))}),l=function(){var e=t.map((function(e){return e.category}));return Object(G.a)(new Set(e))};return n.a.createElement("div",{className:"menu-wrapper"},n.a.createElement("h1",{className:"main-title"}," Menu"),l(t).map((function(e){return n.a.createElement("div",null,n.a.createElement("div",{className:"menu-unit"},n.a.createElement("h2",{className:"cat-name"},"  ",e),n.a.createElement("div",{className:"menu-content"},n.a.createElement("div",{className:"content"},c(e,t)))))})))}),_=(a(225),a(226),function(e){var t=e.cartData,a=(e.link,e.text,e.clearCart,e.removeItem);e.placeOrder;return n.a.createElement("div",null,t.map((function(e){return n.a.createElement("div",{className:"cart-item"},n.a.createElement("h2",{className:"item-name"}," ",e.name," "),n.a.createElement("p",{className:"item-price"}," GHC ",e.price," "),n.a.createElement("i",{class:"fas fa-window-close close",onClick:function(){return a(e)}}))})),function(){if(!Y.a.isEmpty(t)){var e=0;return t.forEach((function(t){e+=parseInt(t.price)})),n.a.createElement("div",null,n.a.createElement("p",{className:"total"}," Total: ",e))}}())});function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={restData:null,restMenu:null,cart:[],errors:"",showError:!1},a.renderProfile=function(){var e=a.state.rest;return e?n.a.createElement("div",{className:"rest-profile-wrapper"},n.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(q,")")}}),n.a.createElement("h1",{className:"rest-name"},e.name),n.a.createElement("p",{className:"location"},"Location: ",e.location)):null},a.handleDelete=function(e){var t=e.id,r=a.state.restMenu,n=null;r.forEach((function(e,a){e.id===t&&(n=a)})),r.splice(n,1),D.database().ref("menus/".concat(t)).remove().then((function(){console.log("item removed"),a.setState({restMenu:r})}))},a.renderMenu=function(){var e=a.state.restMenu;if(!Y.a.isEmpty(e))return n.a.createElement(K,{menuData:e,addToCart:function(e){return a.addToCart(e)},handleDelete:function(e){return a.handleDelete(e)}})},a.addToCart=function(e){e.status="pending",e.restName=a.state.restData.name;var t=a.state.cart,r=[];if(Y.a.isEmpty(t)){t.push(e);var n=JSON.stringify(t);sessionStorage.setItem("cart",n),a.setState({cart:t})}else if(t.forEach((function(t){t.restId!==e.restId&&r.push("cannot add item from different restaurant")})),t.forEach((function(t){t.id===e.id&&r.push("Item already added to cart")})),r.length>0)a.setState({errors:r,showError:!0});else{t.push(e);var c=JSON.stringify(t);sessionStorage.setItem("cart",c),a.setState({cart:t})}},a.removeItem=function(e){var t=a.state.cart;t.forEach((function(r,n){r.id===e.id&&(t.splice(n,1),sessionStorage.setItem("cart",JSON.stringify(t)),a.setState({cart:t}))}))},a.renderCart=function(){var e=a.state.cart;return Y.a.isEmpty(e)?null:n.a.createElement("div",{className:"cart mini-cart"},n.a.createElement(_,{cartData:e,text:"proceed to cart",link:"/user/viewCart",clearCart:a.clearCart,removeItem:function(e){return a.removeItem(e)}}),n.a.createElement(s.b,{to:"/user/viewCart",class:"btn btn-main text-center"}," Proceed to Checkout "))},a.clearCart=function(){sessionStorage.removeItem("cart"),a.setState({cart:[]})},a.renderError=function(){var e=a.state.errors;return a.state.showError?n.a.createElement("div",{className:"error-container"},n.a.createElement("div",{className:"inner"},e.map((function(e){return n.a.createElement("p",{className:"error"},"  ",e)}))),n.a.createElement("button",{className:"btn btn-main",onClick:function(){return a.setState({showError:!1})}},"  Close")):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id,a=JSON.parse(sessionStorage.getItem("cart"));Y.a.isEmpty(a)||this.setState({cart:a}),D.database().ref("restaurants/".concat(t)).once("value").then((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:t.key},t.val());if(a){var r=a.id;D.database().ref("menus").orderByChild("restId").equalTo(r).once("value").then((function(t){var r=I(t);r.restName=a.name,e.setState({restData:a,restMenu:r})}))}}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"restaurant"},n.a.createElement(y,null),this.renderProfile(),n.a.createElement("div",null,this.renderMenu(),this.renderCart(),this.renderError()))}}]),t}(r.Component),X=function(e){var t=e.users;return n.a.createElement("div",{className:"user-unit-wrapper"},t.map((function(e){return n.a.createElement(s.b,{to:"user/".concat(e.id),className:"user-unit"},function(e){var t=e.profileData;return Y.a.isEmpty(t)?n.a.createElement("div",{className:"face",style:{backgroundImage:"url(".concat(A,")")}}):n.a.createElement("div",{className:"face",style:{backgroundImage:"url(".concat(t.fileUrl,")")}})}(e),n.a.createElement("div",{className:"content"},n.a.createElement("p",{className:"name"},"Name: ",e.name," "),n.a.createElement("p",{className:"email"}," Email: ",e.email),n.a.createElement("p",{className:"contact"}," Contact: ",e.contact),n.a.createElement("p",{className:"contact"}," Role: ",e.role)))})))},Z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={users:[]},a.auth=function(){var e=sessionStorage.getItem("userId"),t=sessionStorage.getItem("role");e&&"admin"===t||a.props.history.push("/login")},a.renderUsers=function(){var e=a.state.users;if(!Y.a.isEmpty(e))return n.a.createElement(X,{users:a.state.users})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;D.database().ref("users").once("value").then((function(t){var a=I(t),r=a.filter((function(e){return"customer"===e.role}));a.length>0&&e.setState({users:r})}))}},{key:"render",value:function(){return console.log(this.state),n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("h1",{className:"main-title"}," List of Customers "),n.a.createElement(s.b,{to:"/user/add-user",className:"cta"},"Add Customer")),n.a.createElement("div",null,this.renderUsers())))}}]),t}(r.Component),$=function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",null,n.a.createElement("div",{className:"header-wrapper"},n.a.createElement("h1",null,"Customer Details"))))},ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={users:null},a.renderUsers=function(){var e=a.state.users;return Y.a.isEmpty(e)?null:n.a.createElement(X,{users:e})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.database().ref("users").orderByChild("role").equalTo("rider").once("value").then((function(t){var a=I(t);Y.a.isEmpty(a)||e.setState({users:a})}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header-wrapper"}," ",n.a.createElement("h1",{className:"main-title"},"List of Riders")," ",n.a.createElement(s.b,{className:"cta",to:"/user/add-user"},"Add Rider"),"  "),this.renderUsers()))}}]),t}(r.Component),te=(a(103),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={orders:[]},a.renderOrderDetails=function(e){return!Y.a.isEmpty(e)>0?e.map((function(e){return n.a.createElement("div",{className:"order-unit"},n.a.createElement("p",null,"Name: ",e.name," "),n.a.createElement("p",null,"Price: ",e.name," "),n.a.createElement("p",null,"Status: ",e.status," "))})):null},a.renderOrderItems=function(e){return Y.a.isEmpty(e)?null:a.renderOrderDetails(e.order)},a.renderOrders=function(){var e=a.state.orders;return Y.a.isEmpty(e)?null:e.map((function(e,t){return t+=1,n.a.createElement("div",null,n.a.createElement("div",{className:"order-wrapper"},n.a.createElement("div",{className:"order-item"},n.a.createElement("p",{className:"order-index"},"Order: ",t),a.renderOrderItems(e))))}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("loginId");console.log(t),D.database().ref("orders").orderByChild("userId").equalTo(t).once("value").then((function(t){var a=I(t);console.log(a),Y.a.isEmpty(a)||e.setState({orders:a})}))}},{key:"render",value:function(){return console.log(this.state),n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"}," Your Order "),this.renderOrders())}}]),t}(r.Component)),ae=function(e){var t=e.user;console.log(t);return n.a.createElement("div",{className:"profile-wrapper"},function(){var e=t.profileData;return Y.a.isEmpty(e)?n.a.createElement("div",{className:"face",style:{backgroundImage:"url(".concat(A,")")}}," "):n.a.createElement("div",{className:"face",style:{backgroundImage:"url(".concat(e.fileUrl,")")}}," ")}(),n.a.createElement("div",{className:"content"},n.a.createElement("p",{className:"name"},"Name: ",t.name),n.a.createElement("p",{className:"email"},"Email: ",t.email),n.a.createElement("p",{className:"contact"},"Contact: ",t.contact),n.a.createElement("p",{className:"location"}," Address: ",t.location," "),n.a.createElement("p",{className:"role"}," Role: ",t.role," "),sessionStorage.getItem("loginId")===t.loginId?n.a.createElement(s.b,{to:"/user/changeProfile",className:"btn btn-success"},"Change Profile "):null))};a(232);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var ne=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={user:null},a.renderUser=function(){var e=a.state.user;if(!Y.a.isEmpty(e))return n.a.createElement(ae,{user:e})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;D.database().ref("users/".concat(t)).once("value").then((function(t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:t.key},t.val());a&&e.setState({user:a})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"profile"},n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"main-title text-center"}," Profile "),this.renderUser()),n.a.createElement("div",null))}}]),t}(r.Component);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={errors:null,formData:{name:{value:"",required:!0},email:{value:"",required:!0},contact:{value:"",required:!0},location:{value:"",required:!0},role:{value:"",required:!0}}},a.handleChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.formData);t[e.id].value=e.event.target.value,a.setState({formData:t})},a.handleSubmit=function(e){e.preventDefault();var t=[],r=a.state.formData,n={};for(var c in r)r[c].required&&""===r[c].value&&t.push("".concat(c," is required")),n[c]=r[c].value;t.length>0?(console.log(t),a.setState({errors:t})):(console.log("process user"),a.setState({errors:null}),n.createdOn=P(),D.database().ref("users").push(n).then((function(){D.database().ref("users").orderByChild("createdOn").limitToLast(1).once("value").then((function(e){var t=I(e)[0].id;t&&(console.log(t),a.setState({newUser:t}))}))})))},a.renderErrors=function(){var e=a.state.errors;return e?e.map((function(e){return n.a.createElement("p",{className:"error"}," ",e," ")})):null},a.renderNewUser=function(){console.log(a.state);var e=a.state.newUser;if(e)return n.a.createElement(s.b,{to:"/user/".concat(e),className:"info"}," Click to view new user ")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"add-user"},n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"main-title text-center"}," Add User "),n.a.createElement("div",{className:"form-wrapper"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"name",onChange:function(t){return e.handleChange({event:t,id:"name"})},value:this.state.formData.name.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"email",onChange:function(t){return e.handleChange({event:t,id:"email"})},value:this.state.formData.email.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Location",onChange:function(t){return e.handleChange({event:t,id:"location"})},value:this.state.formData.location.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"number",placeholder:"Contact",onChange:function(t){return e.handleChange({event:t,id:"contact"})},value:this.state.formData.contact.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("select",{className:"select",onChange:function(t){return e.handleChange({event:t,id:"role"})},value:this.state.formData.role.value},n.a.createElement("option",{value:""}," Select Role "),n.a.createElement("option",{value:"customer"}," Customer "),n.a.createElement("option",{value:"rider"}," Rider "))),this.renderErrors(),this.renderNewUser(),n.a.createElement("button",{type:"submit",name:"submit"}," Create Account ")))))}}]),t}(r.Component);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var oe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={errors:null,newRest:null,formData:{name:{value:"",required:!0},email:{value:"",required:!0},contact:{value:"",required:!0},location:{value:"",required:!0}}},a.handleChange=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(S.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state.formData);t[e.id].value=e.event.target.value,a.setState({formData:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.formData,r=[],n={};for(var c in t)n[c]=t[c].value,t[c].required&&""===t[c].value&&r.push("".concat(c," is required"));if(r.length>0)a.setState({errors:r});else{a.setState({errors:null}),n.password="password",n.createdOn=P();var l={email:n.email,password:n.password,role:"rest",createdOn:P()};D.database().ref("login").push(l).then((function(){D.database().ref("login").orderByChild("email").equalTo(n.email).once("value").then((function(e){var t=I(e)[0].id;n.loginId=t,D.database().ref("restaurants").push(n).then((function(e){sessionStorage.setItem("success","account successfully created"),a.props.history.push("/dashboard")}))}))}))}},a.renderErrors=function(){var e=a.state.errors;return e?e.map((function(e){return n.a.createElement("p",{className:"error"}," ",e," ")})):null},a.renderNewRest=function(){var e=a.state.newRest;return e?n.a.createElement(s.b,{to:"/restaurant/".concat(e),className:"feedback"}," Click Here  to view new Rest "):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"main-title text-center"},"Add Restaurant"),n.a.createElement("div",{className:"form-wrapper"},n.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Name of restaurant",onChange:function(t){return e.handleChange({event:t,id:"name"})},value:this.state.formData.name.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Email",onChange:function(t){return e.handleChange({event:t,id:"email"})},value:this.state.formData.email.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"number",placeholder:"Enter Contact",onChange:function(t){return e.handleChange({event:t,id:"contact"})},value:this.state.formData.contact.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("label",null," Select Location "),n.a.createElement("select",{onChange:function(t){return e.handleChange({event:t,id:"location"})}},n.a.createElement("option",{value:"dansoman"}," -- select option -- "),n.a.createElement("option",{value:"dansoman"}," Dansoman "),n.a.createElement("option",{value:"osu"}," Osu "),n.a.createElement("option",{value:"cantonment"}," Cantonment "),n.a.createElement("option",{value:"airport"}," Airport "))),this.renderErrors(),this.renderNewRest(),n.a.createElement("button",{type:"submit"}," Create Account ")))))}}]),t}(r.Component),ie=a(111),ue=a.n(ie),me=(a(238),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={username:"",avatar:"",isUploading:!1,progress:0,avatarURL:""},a.handleUploadStart=function(){a.setState({isUploading:!0,progress:0})},a.handleUploadError=function(){a.setState({isUploading:!1,progress:0})},a.handleProgress=function(e){a.setState({progress:e})},a.handleUploadSuccess=function(e){a.setState({avatar:e,progress:100,isUploading:!1}),D.storage().ref("images").child(e).getDownloadURL().then((function(t){a.setState({avatarURL:t});var r={filename:e,fileUrl:t};a.props.storeFilename(r)}))},a.renderAvatar=function(){var e=a.state.avatarURL;return e?n.a.createElement("div",{className:"aatar",style:{backgroundImage:"url(".concat(e,")"),width:"100%",height:"300px",backgroundSize:"cover"}}):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(ue.a,{accept:"image/*",name:"avatar",randomizeFilename:!0,storageRef:D.storage().ref("images"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress}),this.renderAvatar())}}]),t}(r.Component)),de=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={restId:a.props.match.params.id,restData:null,formData:{name:{required:!0,value:""},price:{required:!0,value:""},category:{required:!0,value:""},cover:{required:!0,value:{filename:"default",fileUrl:M}}}},a.handleSubmit=function(e){e.preventDefault();var t={},r=a.state.formData,n=(a.state.restId,[]);for(var c in r)t[c]=r[c].value,r[c].required&&""===r[c].value&&n.push("".concat(c," is required"));n.length>0?a.setState({errors:n}):(t.restId=a.props.match.params.id,D.database().ref("menus").push(t).then((function(){sessionStorage.setItem("success","item successfully added"),a.props.history.push("/dashboard")})))},a.handleChange=function(e){var t=a.state.formData,r=t[e.id];r.value=e.event.target.value,t[e.id]=r,a.setState({formData:t})},a.renderErrors=function(){var e=a.state.errors;return e?e.map((function(e){return n.a.createElement("p",{className:"error"}," ",e," ")})):null},a.storeFilename=function(e){var t=a.state.formData;t.cover.value=e,a.setState({formData:t})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;D.database().ref("restaurants/".concat(t)).once("value").then((function(t){var a=t.val();a&&e.setState({restData:a})}))}},{key:"render",value:function(){var e=this;return console.log(this.state),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"}," Add Menu Item "),n.a.createElement("div",{className:"form-wrapper"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-element"},n.a.createElement("label",null," Cover "),n.a.createElement(me,{storeFilename:function(t){return e.storeFilename(t)}})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"text",placeholder:"Enter Name",onChange:function(t){return e.handleChange({event:t,id:"name"})},value:this.state.formData.name.value})),n.a.createElement("div",{className:"form-element"},n.a.createElement("input",{type:"number",placeholder:"Price per quantity",onChange:function(t){return e.handleChange({event:t,id:"price"})},value:this.state.formData.name.price})),n.a.createElement("div",{className:"form-element"},n.a.createElement("select",{onChange:function(t){return e.handleChange({event:t,id:"category"})}},n.a.createElement("option",{value:""},"-- Select Category"),n.a.createElement("option",{value:"breakfast"},"Breakfast"),n.a.createElement("option",{value:"lunch"},"Lunch"),n.a.createElement("option",{value:"dinner"},"Dinner"),n.a.createElement("option",{value:"desert"},"Dessert"))),this.renderErrors(),n.a.createElement("button",{type:"submit"}," Add to Menu")))))}}]),t}(r.Component),fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={menus:null,restData:null,cart:[]},a.handleSubmit=function(e){e.preventDefault();var t=a.state.cart,r=e.target.item.value,n=parseInt(e.target.quantity.value),c=parseInt(e.target.price.value);n||(n=1);var l={item:r,quantity:n,price:c,itemCost:c*n};t.push(l),console.log(t)},a.renderMenu=function(){var e=a.state.menus;return e?n.a.createElement(K,{menuData:e,handleSubmit:function(e){return a.handleSubmit(e)}}):null},a.renderMenuItems=function(e){return a.state.menus.filter((function(t){return t.category===e})).map((function(e){return n.a.createElement("div",{className:"menu-content"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"content"},n.a.createElement("p",null," Name: ",e.name," "),n.a.createElement("p",null," Price: ",e.price," ")))}))},a.renderProfile=function(){var e=a.state.restData;return e?n.a.createElement("div",{className:"rest-profile-wrapper"},n.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(q,")")}}," "),n.a.createElement("h1",{className:"rest-name"}," ",e.name," "),n.a.createElement("p",{className:"location"},"Location: ",e.location," ")):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;D.database().ref("restaurants/".concat(t)).once("value").then((function(a){var r=a.val();D.database().ref("menus").orderByChild("restId").equalTo(t).once("value").then((function(t){var a=I(t),n=a.sort((function(e,t){return e.category>t.category?1:-1}));a&&e.setState({menus:n,restData:r})}))}))}},{key:"render",value:function(){return console.log(this.state),n.a.createElement("div",null,n.a.createElement(y,null),this.renderProfile(),n.a.createElement("div",null,this.renderMenu()))}}]),t}(r.Component),pe=(a(239),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={cart:null,userData:null,restData:null},a.clearCart=function(){a.state.cart;sessionStorage.removeItem("cart"),a.setState({cart:[]})},a.removeItem=function(e){var t=a.state.cart;Y.a.isEmpty(t)||t.forEach((function(r,n){r.id===e.id&&(t.splice(n,1),sessionStorage.setItem("cart",JSON.stringify(t)),a.setState({cart:t}))}))},a.renderCart=function(){var e=a.state.cart;return Y.a.isEmpty(e)?n.a.createElement("h1",{className:"main-title text-center"}," Cart is Empty "):n.a.createElement("div",null,n.a.createElement("h1",{className:"main-title text-center"}," Your Cart!"),n.a.createElement(_,{cartData:e,text:"Place Order",link:"user/order/placeOrder",clearCart:function(){return a.clearCart()},removeItem:function(e){return a.removeItem(e)}}))},a.placeOrder=function(){var e=a.state.cart,t=a.state.userData,r=a.state.restData,n=t.id,c=t.name,l=t.loginId,s=t.location,o=t.contact,i=t.email;if(t){var u={order:e,userData:{name:c,userId:n,loginId:l,location:s,contact:o,email:i},restData:r,status:"pending",createdOn:P()};D.database().ref("orders").push(u).then((function(){sessionStorage.removeItem("cart"),a.setState({cart:[]}),a.props.history.push("/dashboard")}))}},a.renderCta=function(){var e=a.state.cart;return Y.a.isEmpty(e)?null:n.a.createElement("div",{className:"btn btn-main text-center",onClick:function(){return a.placeOrder()}}," ","Place Orders"," ")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("cart"));if(t){var a=sessionStorage.getItem("loginId"),r=t.map((function(e){return e.restId}));console.log(r);var n=r[0];console.log(n),D.database().ref("users").orderByChild("loginId").equalTo(a).once("value").then((function(a){var r=I(a)[0];Y.a.isEmpty(r)||D.database().ref("restaurants/".concat(n)).once("value").then((function(a){var n=a.val();e.setState({cart:t,userData:r,restData:n})}))}))}}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"cart view-cart"},this.renderCart(),this.renderCta()))}}]),t}(r.Component)),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={orders:null},a.completeOrder=function(e){var t=a.state.orders;if(!Y.a.isEmpty(t)){var r=t.find((function(t){return t.id===e}));r.status="complete",t[e]=r,D.database().ref("orders/".concat(e)).update({status:"complete"}).then((function(){a.setState({orders:t})}))}},a.deleteOrder=function(e){var t=a.state.orders,r=null;t.forEach((function(t,a){t.id===e&&(r=a)})),D.database().ref("orders/".concat(e)).remove().then((function(){t.splice(r,1),a.setState({orders:t})}))},a.renderCta=function(e){switch(e.status){case"complete":return n.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a.deleteOrder(e.id)}}," Delete Order");case"pending":return n.a.createElement("button",{className:"btn btn-success",onClick:function(){return a.completeOrder(e.id)}},"Complete Order");default:return null}},a.renderOrder=function(){var e=a.state.orders;return Y.a.isEmpty(e)?n.a.createElement("div",{className:"feedback"}," No Orders "):e.map((function(e){return n.a.createElement("div",{className:"order-item"},n.a.createElement("div",{className:"user-info"},n.a.createElement("h2",{className:"name"},"Name: ",e.userData.name),n.a.createElement("p",{className:"location"}," Location: ",e.userData.location),n.a.createElement("p",{className:"contact"}," Contact: ",e.userData.contact),n.a.createElement("p",{className:"contact"}," Date: ",e.createdOn)),n.a.createElement("div",null,e.order.map((function(e){return n.a.createElement("p",null," ",e.name)}))),n.a.createElement("p",null," Status: ",e.status),a.renderCta(e))}))},a.clearHistory=function(){console.log("clear all orders")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("loginId");D.database().ref("orders").orderByChild("createdOn").once("value").then((function(a){var r=I(a);if(!Y.a.isEmpty(r)){var n=r.filter((function(e){return e.restData.loginId===t}));Y.a.isEmpty(n)||e.setState({orders:n})}}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"}," List of Orders"),n.a.createElement("div",{className:"order-items-wrapper"},this.renderOrder()))}}]),t}(r.Component),he=(a(240),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={orders:null},a.renderOrder=function(){var e=a.state.orders;if(!Y.a.isEmpty(e))return e.map((function(e){return n.a.createElement("div",{className:"user-order-unit"},n.a.createElement("p",{className:"date"}," Date: ",e.createdOn),n.a.createElement("p",{className:"status"}," Status: ",e.status),n.a.createElement("p",{className:"item-title"}," Order Items "),e.order.map((function(e){return console.log(e),n.a.createElement("div",{className:"order-item"},n.a.createElement("div",{className:"item-avatar",style:{backgroundImage:"url(".concat(e.cover.fileUrl,")")}}),n.a.createElement("div",{className:"content"},n.a.createElement("p",{className:"item-name"}," Name: ",e.name),n.a.createElement("p",{className:"item-price"}," Price: GHC",e.price)))})))}))},a.clearHistory=function(){a.state.orders.forEach((function(e){D.database().ref("orders/".concat(e.id)).remove().then((function(){a.setState({orders:null})}))}))},a.renderCta=function(){return a.state.orders?n.a.createElement("div",{className:"btn btn-main text-center",onClick:function(){return a.clearHistory()}}," Clear History "):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=sessionStorage.getItem("loginId");D.database().ref("orders").once("value").then((function(a){var r=I(a).filter((function(e){return e.userData.loginId===t}));Y.a.isEmpty(r)||e.setState({orders:r})}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"}," Order History! "),n.a.createElement("div",{className:"user-order-wrapper"},this.renderOrder(),this.renderCta()))}}]),t}(r.Component)),Ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={orders:null},a.renderOrders=function(){var e=a.state.orders;if(!Y.a.isEmpty(e))return e.map((function(e){return n.a.createElement("div",{className:"order-unit"},n.a.createElement("p",null," Order Date: ",e.createdOn),n.a.createElement("p",null,"Order: Status: ",e.status),n.a.createElement("h2",null," User Info"),n.a.createElement("p",null," ",e.userData.name," "),n.a.createElement("p",null," ",e.userData.location," "),n.a.createElement("p",null," ",e.userData.contact," "),n.a.createElement("p",null," ",e.userData.email," "),console.log(e),n.a.createElement("h2",null," Order Details "),e.order.map((function(e){return n.a.createElement("div",null,n.a.createElement("p",null," ",e.name))})),";")}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;D.database().ref("orders").once("value").then((function(t){var a=I(t);Y.a.isEmpty(a)||e.setState({orders:a})}))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"},"List of Orders "),this.renderOrders())}}]),t}(r.Component),be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={profileData:null,userData:null},a.storeFilename=function(e){a.setState({profileData:e})},a.handleProfileChange=function(){sessionStorage.getItem("loginId");var e=a.state.userData;D.database().ref("users/".concat(e.id)).update({profileData:a.state.profileData}).then((function(){a.props.history.push("/dashboard")}))},a.renderCta=function(){return a.state.profileData?n.a.createElement("div",{className:"btn btn-main text-center",onClick:function(){return a.handleProfileChange()}},"  Change Profile  "):null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=sessionStorage.getItem("loginId");D.database().ref("users").once("value").then((function(a){var r=I(a).find((function(e){return e.loginId===t}));Y.a.isEmpty(r)||e.setState({userData:r})}))}},{key:"render",value:function(){var e=this;return console.log(this.state),n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("div",{className:"profile-change-wrapper"},n.a.createElement(me,{storeFilename:function(t){return e.storeFilename(t)}}),this.renderCta()))}}]),t}(r.Component),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={menuData:null},a.handleChange=function(e){var t=a.state.menuData;t[e.id]=e.event.target.value,a.setState({menuData:t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,r=a.state.menuData;D.database().ref("menus/".concat(t)).update(r).then((function(){a.props.history.push("/dashboard")}))},a.storeFilename=function(e){var t=a.state.menuData;t.cover=e,a.setState({menuData:t})},a.renderForm=function(){var e=a.state.menuData;return Y.a.isEmpty(e)?null:n.a.createElement("div",{className:"form-wrapper"},n.a.createElement("form",{onSubmit:function(e){return a.handleSubmit(e)}},n.a.createElement("div",{className:"form-element"},n.a.createElement(me,{storeFilename:function(e){return a.storeFilename(e)}})),n.a.createElement("div",{className:"form-element"},n.a.createElement("label",null,"Name"),n.a.createElement("input",{type:"text",name:"title",value:e.name,onChange:function(e){return a.handleChange({event:e,id:"name"})}})),n.a.createElement("div",{className:"form-element"},n.a.createElement("label",null,"Price"),n.a.createElement("input",{type:"text",name:"title",value:e.price,onChange:function(e){return a.handleChange({event:e,id:"price"})}})),n.a.createElement("button",null," Save Changes  ")))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;D.database().ref("menus/".concat(t)).once("value").then((function(t){var a=t.val();Y.a.isEmpty(a)||e.setState({menuData:a})}))}},{key:"render",value:function(){return console.log(this.state),n.a.createElement("div",null,n.a.createElement(y,null),n.a.createElement("h1",{className:"main-title text-center"}," Edit  Menu"),this.renderForm())}}]),t}(r.Component),ye=function(){return n.a.createElement(C,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",exact:!0,component:j}),n.a.createElement(o.a,{path:"/login",exact:!0,component:L}),n.a.createElement(o.a,{path:"/register",exact:!0,component:R}),n.a.createElement(o.a,{path:"/search",exact:!0,component:U}),n.a.createElement(o.a,{path:"/dashboard",exact:!0,component:F}),n.a.createElement(o.a,{path:"/logout",exact:!0,component:J}),n.a.createElement(o.a,{path:"/riders",exact:!0,component:ee}),n.a.createElement(o.a,{path:"/orders",exact:!0,component:te}),n.a.createElement(o.a,{path:"/restaurants",exact:!0,component:z}),n.a.createElement(o.a,{path:"/customers",exact:!0,component:Z}),n.a.createElement(o.a,{path:"/user/changeProfile",exact:!0,component:be}),n.a.createElement(o.a,{path:"/rest/orders/:id",exact:!0,component:ve}),n.a.createElement(o.a,{path:"/user/viewCart",exact:!0,component:pe}),n.a.createElement(o.a,{path:"/customers/:id",exact:!0,component:$}),n.a.createElement(o.a,{path:"/restaurant/add-restaurant",exact:!0,component:oe}),n.a.createElement(o.a,{path:"/restaurant/:id",exact:!0,component:V}),n.a.createElement(o.a,{path:"/restaurant/addMenuItem/:id",exact:!0,component:de}),n.a.createElement(o.a,{path:"/user/add-user",exact:!0,component:le}),n.a.createElement(o.a,{path:"/user/orders",exact:!0,component:he}),n.a.createElement(o.a,{path:"/admin/orders",exact:!0,component:Ee}),n.a.createElement(o.a,{path:"/user/:id",exact:!0,component:ne}),n.a.createElement(o.a,{path:"/restaurant/:id/menu",exact:!0,component:fe}),n.a.createElement(o.a,{path:"/restaurant/menu/edit/:id",exact:!0,component:ge})))};l.a.render(n.a.createElement((function(){return n.a.createElement(s.a,null,n.a.createElement(ye,null))}),null),document.querySelector("#root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.61e52e20.chunk.js.map